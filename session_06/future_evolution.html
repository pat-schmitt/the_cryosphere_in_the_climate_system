
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Running into the future with GCM data &#8212; VU The Cryosphere in the Climate System</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=2d5429a7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'session_06/future_evolution';</script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="StudiKickoff: Hydrological output" href="../session_07/topic.html" />
    <link rel="prev" title="StudiKickoff: Running into the future" href="topic.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="May 15, 2025"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../welcome.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/practicals_logo.png" class="logo__image only-light" alt="VU The Cryosphere in the Climate System - Home"/>
    <script>document.write(`<img src="../_static/practicals_logo.png" class="logo__image only-dark" alt="VU The Cryosphere in the Climate System - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../welcome.html">
                    Welcome
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Setup</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../install_oggm.html">Installing OGGM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jupyter_notebooks.html">Getting started with Jupyter Notebooks</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Session 01</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../session_01/intro_oggm.html">Introduction to OGGM</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Session 02</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../session_02/topic.html">StudiKickoff: Representing glaciers in models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../session_02/numeric_domain_glacier.html">Numeric 2D grid of a glacier directory</a></li>

<li class="toctree-l1"><a class="reference internal" href="../session_02/flowline_creation.html">Glacier Flowlines</a></li>




</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Session 03</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../session_03/topic.html">StudiKickoff: Mass balance model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../session_03/mass_balance_model.html">Mass balance model in OGGM</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Session 04</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../session_04/topic.html">StudiKickoff: Glacier bed inversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../session_04/bed_inversion.html">Glacier bed inversion in OGGM</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Session 05</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../session_05/topic.html">StudiKickoff: Geometry evolution models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../session_05/geometry_evolution.html">Geometry evolution models in OGGM</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Session 06</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="topic.html">StudiKickoff: Running into the future</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Running into the future with GCM data</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Session 07</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../session_07/topic.html">StudiKickoff: Hydrological output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../session_07/hydrological_output.html">Hydrological mass-balance output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../session_07/project.html">Group project</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/pat-schmitt/the_cryosphere_in_the_climate_system" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/pat-schmitt/the_cryosphere_in_the_climate_system/edit/main/book/session_06/future_evolution.ipynb" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/pat-schmitt/the_cryosphere_in_the_climate_system/issues/new?title=Issue%20on%20page%20%2Fsession_06/future_evolution.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/session_06/future_evolution.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Running into the future with GCM data</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#oggm-setup">OGGM setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-processed-directories">Pre-processed directories</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-spinup-historical-runs">The <code class="docutils literal notranslate"><span class="pre">_spinup_historical</span></code> runs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-and-process-gcm-data-from-isimip3b-bias-corrected-cmip6">Download and process GCM data from ISIMIP3b (bias-corrected CMIP6)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#projection-runs">Projection runs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-projection-runs">Plot projection runs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-multiple-models-for-the-same-scenario">Running multiple models for the same scenario</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#categories-projections-by-temperature-levels">Categories projections by temperature levels</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-sandbox">Bonus: Sandbox</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recap">Recap</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="running-into-the-future-with-gcm-data">
<h1>Running into the future with GCM data<a class="headerlink" href="#running-into-the-future-with-gcm-data" title="Link to this heading">#</a></h1>
<p>This notebook is based on <a class="reference external" href="https://tutorials.oggm.org/stable/notebooks/10minutes/run_with_gcm.html">this OGGM tutorail notebook</a>.</p>
<p>In this example, we illustrate how to perform a typical projection run, i.e. using GCM data. Here, we’ll use already bias-corrected CMIP6 data from <a class="reference external" href="https://www.isimip.org/gettingstarted/isimip3b-bias-adjustment">ISIMIP3b</a>. OGGM also supports using raw CMIP5 or CMIP6 data (<a class="reference external" href="https://tutorials.oggm.org/stable/notebooks/10minutes/run_with_gcm.html">as explained in this OGGM tutorial</a>). However, running projections with those directly requires downloading several gigabytes of data.</p>
<p>Fortunately, OGGM provides a set of standard projections that use all available climate models combined with the default OGGM workflow. We will explore these pre-run projections in the next session.</p>
<p>For now, we’ll focus on creating our own projection run.</p>
<p>There are three important steps:</p>
<ul class="simple">
<li><p>Download the OGGM preprocessed directories that include a pre-calibrated and spun-up glacier model. These contain all the results from the steps we’ve covered in previous sessions.</p></li>
<li><p>Download the climate projection data and apply bias correction if you’re working with raw CMIP5 or CMIP6 data.</p></li>
<li><p>Simulate the glacier’s future evolution from the present day to the end of the century (2020–2100).</p></li>
</ul>
<div class="alert alert-warning">
    <b>Task</b>: Why do you think it's necessary to bias-correct projection climate data to match the historical climate data?
</div><p>Your answer here:</p>
<section id="oggm-setup">
<h2>OGGM setup<a class="headerlink" href="#oggm-setup" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Libs</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">xarray</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">xr</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># Locals</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">oggm.cfg</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">cfg</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">oggm</span><span class="w"> </span><span class="kn">import</span> <span class="n">utils</span><span class="p">,</span> <span class="n">workflow</span><span class="p">,</span> <span class="n">tasks</span><span class="p">,</span> <span class="n">DEFAULT_BASE_URL</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">oggm.shop</span><span class="w"> </span><span class="kn">import</span> <span class="n">gcm_climate</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="pre-processed-directories">
<h2>Pre-processed directories<a class="headerlink" href="#pre-processed-directories" title="Link to this heading">#</a></h2>
<p>Let’s run a projection for two Alpine glaciers: Hintereisferner and Aletsch.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Initialize OGGM and set up the default run parameters</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>

<span class="c1"># define working directory</span>
<span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;future_working_dir&#39;</span>
<span class="n">utils</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">reset</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># if you set reset=True, everything will be deleted and you can start from a fresh state</span>
<span class="n">cfg</span><span class="o">.</span><span class="n">PATHS</span><span class="p">[</span><span class="s1">&#39;working_dir&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">path</span>

<span class="c1"># select the glacier of your choice, you can use the Glims viewer from the first session</span>
<span class="n">rgi_ids</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;RGI60-11.00897&#39;</span><span class="p">,</span>  <span class="c1"># Hintereisferner</span>
           <span class="s1">&#39;RGI60-11.01450&#39;</span><span class="p">]</span>  <span class="c1"># Altesch</span>

<span class="c1"># Go - get the pre-processed glacier directories</span>
<span class="n">gdirs</span> <span class="o">=</span> <span class="n">workflow</span><span class="o">.</span><span class="n">init_glacier_directories</span><span class="p">(</span><span class="n">rgi_ids</span><span class="p">,</span> <span class="n">from_prepro_level</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">prepro_base_url</span><span class="o">=</span><span class="n">DEFAULT_BASE_URL</span><span class="p">)</span>

<span class="n">gdir</span> <span class="o">=</span> <span class="n">gdirs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:46:56: oggm.cfg: Reading default parameters from the OGGM `params.cfg` configuration file.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:46:56: oggm.cfg: Multiprocessing switched OFF according to the parameter file.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:46:56: oggm.cfg: Multiprocessing: using all available processors (N=8)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:46:56: oggm.workflow: init_glacier_directories from prepro level 5 on 2 glaciers.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:46:56: oggm.workflow: Execute entity tasks [gdir_from_prepro] on 2 glaciers
</pre></div>
</div>
</div>
</div>
<div class="alert alert-warning">
    <b>Task</b>: Have a look in your working directory, do you know what each of the files means?
</div><p>Your answer here:</p>
</section>
<section id="the-spinup-historical-runs">
<h2>The <code class="docutils literal notranslate"><span class="pre">_spinup_historical</span></code> runs<a class="headerlink" href="#the-spinup-historical-runs" title="Link to this heading">#</a></h2>
<p>The level 5 files include a pre-computed model run from the RGI outline date up to the last available date covered by the historical climate data. This run is generated using the dynamic spinup method discussed in the previous session.</p>
<p>In the case of the default climate dataset, <a class="reference external" href="https://www.isimip.org/gettingstarted/input-data-bias-adjustment/details/80/">GSWP3_W5E5</a>, the simulation runs up to the end of 2019, meaning the glacier volume is computed as of January 1st, 2020.
These results are stored in directories with the <code class="docutils literal notranslate"><span class="pre">_spinup_historical</span></code> suffix (see last session or the <a class="reference internal" href="#dynamical_spinup.ipynb"><span class="xref myst">“10 minutes to… a dynamical spinup”</span></a> tutorial for more context).</p>
<p>Let’s now compile the spinup results for our two glaciers into a single file:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># compile the run output for both glaciers at once</span>
<span class="n">ds</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">compile_run_output</span><span class="p">(</span><span class="n">gdirs</span><span class="p">,</span> <span class="n">input_filesuffix</span><span class="o">=</span><span class="s1">&#39;_spinup_historical&#39;</span><span class="p">)</span>

<span class="c1"># normalize the volume of each glacier with the 2000 volume</span>
<span class="n">vol_ref2000</span> <span class="o">=</span> <span class="n">ds</span><span class="o">.</span><span class="n">volume</span> <span class="o">/</span> <span class="n">ds</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">sel</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">2000</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>

<span class="c1"># plot the volume and color each line for the individual glaciers</span>
<span class="n">vol_ref2000</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;rgi_id&#39;</span><span class="p">);</span>

<span class="c1"># adapt the ylabel</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Volume (%, reference 2000)&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:46:59: oggm.utils: Applying global task compile_run_output on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:46:59: oggm.utils: Applying compile_run_output on 2 gdirs.
</pre></div>
</div>
<img alt="../_images/2a9e5460dc9e19be3a2efcbc068d2bd88e3541b3dc1fb0a3202b84854f9442d4.png" src="../_images/2a9e5460dc9e19be3a2efcbc068d2bd88e3541b3dc1fb0a3202b84854f9442d4.png" />
</div>
</div>
<p>The final model state in 2020 will serve as the starting point for our projections into the future. During these future runs, all model parameters we previously calibrated will remain constant over time.</p>
<div class="alert alert-warning">
    <b>Task</b>: Do you think it’s a valid assumption to keep all model parameters constant over time during future projections?
</div><p>Your answer here:</p>
</section>
<section id="download-and-process-gcm-data-from-isimip3b-bias-corrected-cmip6">
<h2>Download and process GCM data from ISIMIP3b (bias-corrected CMIP6)<a class="headerlink" href="#download-and-process-gcm-data-from-isimip3b-bias-corrected-cmip6" title="Link to this heading">#</a></h2>
<p>A typical use case for OGGM is to run simulations using climate model output, such as the bias-corrected CMIP6 GCMs from <a class="reference external" href="https://www.isimip.org/gettingstarted/isimip3b-bias-adjustment/">ISIMIP3b</a>. In this example, we use the files <a class="reference external" href="https://cluster.klima.uni-bremen.de/~oggm/cmip6/isimip3b/flat/monthly/">mirrored on the OGGM cluster in Bremen</a>, but it’s easy to switch to other files if needed. From ISIMIP3b, we have access to 5 GCMs and 3 SSPs on the cluster. You can find more details on the <a class="reference external" href="https://www.isimip.org/gettingstarted/isimip3b-bias-adjustment">ISIMIP website</a>.</p>
<div class="alert alert-warning">
    <b>Task</b>: What do the abbreviations GCM and SSP stand for?
</div><p>Your answer here:</p>
<p>Let’s download the data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># you can choose one of these 5 different GCMs:</span>
<span class="c1"># &#39;gfdl-esm4_r1i1p1f1&#39;, &#39;mpi-esm1-2-hr_r1i1p1f1&#39;, &#39;mri-esm2-0_r1i1p1f1&#39; (&quot;low sensitivity&quot; models, within typical ranges from AR6)</span>
<span class="c1"># &#39;ipsl-cm6a-lr_r1i1p1f1&#39;, &#39;ukesm1-0-ll_r1i1p1f2&#39; (&quot;hotter&quot; models, especially ukesm1-0-ll)</span>
<span class="n">member</span> <span class="o">=</span> <span class="s1">&#39;mri-esm2-0_r1i1p1f1&#39;</span> 

<span class="k">for</span> <span class="n">ssp</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ssp126&#39;</span><span class="p">,</span> <span class="s1">&#39;ssp370&#39;</span><span class="p">,</span><span class="s1">&#39;ssp585&#39;</span><span class="p">]:</span>
    <span class="c1"># bias correct them</span>
    <span class="n">workflow</span><span class="o">.</span><span class="n">execute_entity_task</span><span class="p">(</span><span class="n">gcm_climate</span><span class="o">.</span><span class="n">process_monthly_isimip_data</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">,</span> 
                                 <span class="n">ssp</span> <span class="o">=</span> <span class="n">ssp</span><span class="p">,</span>
                                 <span class="c1"># gcm member -&gt; you can choose another one</span>
                                 <span class="n">member</span><span class="o">=</span><span class="n">member</span><span class="p">,</span>
                                 <span class="c1"># recognize the climate file for later</span>
                                 <span class="n">output_filesuffix</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;_ISIMIP3b_</span><span class="si">{</span><span class="n">member</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">ssp</span><span class="si">}</span><span class="s1">&#39;</span>
                                 <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:46:59: oggm.workflow: Execute entity tasks [process_monthly_isimip_data] on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:46:59: oggm.shop.gcm_climate: (RGI60-11.00897) process_monthly_isimip_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp126
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:02: oggm.shop.gcm_climate: (RGI60-11.00897) process_gcm_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp126
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:02: oggm.shop.gcm_climate: (RGI60-11.01450) process_monthly_isimip_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp126
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:03: oggm.shop.gcm_climate: (RGI60-11.01450) process_gcm_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp126
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:03: oggm.workflow: Execute entity tasks [process_monthly_isimip_data] on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:03: oggm.shop.gcm_climate: (RGI60-11.00897) process_monthly_isimip_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:04: oggm.shop.gcm_climate: (RGI60-11.00897) process_gcm_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:04: oggm.shop.gcm_climate: (RGI60-11.01450) process_monthly_isimip_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:05: oggm.shop.gcm_climate: (RGI60-11.01450) process_gcm_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:05: oggm.workflow: Execute entity tasks [process_monthly_isimip_data] on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:05: oggm.shop.gcm_climate: (RGI60-11.00897) process_monthly_isimip_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp585
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:06: oggm.shop.gcm_climate: (RGI60-11.00897) process_gcm_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp585
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:06: oggm.shop.gcm_climate: (RGI60-11.01450) process_monthly_isimip_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp585
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:07: oggm.shop.gcm_climate: (RGI60-11.01450) process_gcm_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp585
</pre></div>
</div>
</div>
</div>
<p>One advantage of using ISIMIP3b data is that it has already been bias-corrected by the ISIMIP consortium. Since OGGM v1.6 uses the <a class="reference external" href="https://docs.oggm.org/en/latest/climate-data.html#w5e5">W5E5</a> dataset as its baseline historical climate, no further bias correction is needed when using ISIMIP3b projections. However, if you prefer to apply your own bias correction or want access to a larger selection of GCMs, you can also use the original CMIP5 or CMIP6 GCM datasets.</p>
<p>If you’re curious about which historical climate dataset OGGM is using in your run, you can simply ask OGGM:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gdirs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_climate_info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;baseline_climate_source&#39;: &#39;GSWP3_W5E5&#39;,
 &#39;baseline_yr_0&#39;: 1901,
 &#39;baseline_yr_1&#39;: 2019,
 &#39;baseline_climate_ref_hgt&#39;: 2252.0,
 &#39;baseline_climate_ref_pix_lon&#39;: 10.75,
 &#39;baseline_climate_ref_pix_lat&#39;: 46.75}
</pre></div>
</div>
</div>
</div>
<div class="alert alert-warning">
    <b>Task</b>: Take another look in your working directory, do you see any new files?
</div><p>Your answer here:</p>
<p>Let’s take a closer look at one of these files:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_proj_example</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">gdir</span><span class="o">.</span><span class="n">get_filepath</span><span class="p">(</span><span class="s1">&#39;gcm_data&#39;</span><span class="p">,</span> <span class="n">filesuffix</span><span class="o">=</span><span class="s1">&#39;_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp126&#39;</span><span class="p">))</span>
<span class="n">ds_proj_example</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 48kB
Dimensions:  (time: 3012)
Coordinates:
  * time     (time) datetime64[ns] 24kB 1850-01-01 1850-02-01 ... 2100-12-01
Data variables:
    prcp     (time) float32 12kB ...
    temp     (time) float32 12kB ...
Attributes:
    ref_hgt:         2252.0
    ref_pix_lon:     10.75
    ref_pix_lat:     46.75
    ref_pix_dis:     5629.566753389074
    climate_source:  _ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp126_no_OGGM_bias_correc...
    yr_0:            1850
    yr_1:            2100
    author:          OGGM
    author_info:     Open Global Glacier Model</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-d2f4969f-f7f0-46ba-9f79-ed08e9f4dd25' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-d2f4969f-f7f0-46ba-9f79-ed08e9f4dd25' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>time</span>: 3012</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-1a46e850-ffc4-4e79-880a-8d7814299f31' class='xr-section-summary-in' type='checkbox'  checked><label for='section-1a46e850-ffc4-4e79-880a-8d7814299f31' class='xr-section-summary' >Coordinates: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>datetime64[ns]</div><div class='xr-var-preview xr-preview'>1850-01-01 ... 2100-12-01</div><input id='attrs-6570bd10-d22c-4500-9f94-15cf8a4cc141' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-6570bd10-d22c-4500-9f94-15cf8a4cc141' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-604759a4-17cc-4d7c-bfe7-88cbe796b2b8' class='xr-var-data-in' type='checkbox'><label for='data-604759a4-17cc-4d7c-bfe7-88cbe796b2b8' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;1850-01-01T00:00:00.000000000&#x27;, &#x27;1850-02-01T00:00:00.000000000&#x27;,
       &#x27;1850-03-01T00:00:00.000000000&#x27;, ..., &#x27;2100-10-01T00:00:00.000000000&#x27;,
       &#x27;2100-11-01T00:00:00.000000000&#x27;, &#x27;2100-12-01T00:00:00.000000000&#x27;],
      dtype=&#x27;datetime64[ns]&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-33799123-8e2d-4577-9f3a-9b5951b0571c' class='xr-section-summary-in' type='checkbox'  checked><label for='section-33799123-8e2d-4577-9f3a-9b5951b0571c' class='xr-section-summary' >Data variables: <span>(2)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>prcp</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-02d2f2f2-28bc-436a-8301-ff0b68833fba' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-02d2f2f2-28bc-436a-8301-ff0b68833fba' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b8c93038-7db2-4b7e-9254-4a51463cff6f' class='xr-var-data-in' type='checkbox'><label for='data-b8c93038-7db2-4b7e-9254-4a51463cff6f' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>kg m-2</dd><dt><span>long_name :</span></dt><dd>total monthly precipitation amount</dd></dl></div><div class='xr-var-data'><pre>[3012 values with dtype=float32]</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>temp</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float32</div><div class='xr-var-preview xr-preview'>...</div><input id='attrs-8a098e7e-c596-4bf0-8027-7f2db4e05dfa' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-8a098e7e-c596-4bf0-8027-7f2db4e05dfa' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cbe8a8db-9475-4dcc-b0c0-b0fdd6bbefc0' class='xr-var-data-in' type='checkbox'><label for='data-cbe8a8db-9475-4dcc-b0c0-b0fdd6bbefc0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>units :</span></dt><dd>degC</dd><dt><span>long_name :</span></dt><dd>2m temperature at height ref_hgt</dd></dl></div><div class='xr-var-data'><pre>[3012 values with dtype=float32]</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-d27da85c-20e7-49a5-aaad-f3e386cb8693' class='xr-section-summary-in' type='checkbox'  ><label for='section-d27da85c-20e7-49a5-aaad-f3e386cb8693' class='xr-section-summary' >Indexes: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-3889cc0e-bac1-43ca-aa44-5bf42527093c' class='xr-index-data-in' type='checkbox'/><label for='index-3889cc0e-bac1-43ca-aa44-5bf42527093c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(DatetimeIndex([&#x27;1850-01-01&#x27;, &#x27;1850-02-01&#x27;, &#x27;1850-03-01&#x27;, &#x27;1850-04-01&#x27;,
               &#x27;1850-05-01&#x27;, &#x27;1850-06-01&#x27;, &#x27;1850-07-01&#x27;, &#x27;1850-08-01&#x27;,
               &#x27;1850-09-01&#x27;, &#x27;1850-10-01&#x27;,
               ...
               &#x27;2100-03-01&#x27;, &#x27;2100-04-01&#x27;, &#x27;2100-05-01&#x27;, &#x27;2100-06-01&#x27;,
               &#x27;2100-07-01&#x27;, &#x27;2100-08-01&#x27;, &#x27;2100-09-01&#x27;, &#x27;2100-10-01&#x27;,
               &#x27;2100-11-01&#x27;, &#x27;2100-12-01&#x27;],
              dtype=&#x27;datetime64[ns]&#x27;, name=&#x27;time&#x27;, length=3012, freq=None))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-26e3ee19-36cb-4198-8140-d50197c415c4' class='xr-section-summary-in' type='checkbox'  checked><label for='section-26e3ee19-36cb-4198-8140-d50197c415c4' class='xr-section-summary' >Attributes: <span>(9)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>ref_hgt :</span></dt><dd>2252.0</dd><dt><span>ref_pix_lon :</span></dt><dd>10.75</dd><dt><span>ref_pix_lat :</span></dt><dd>46.75</dd><dt><span>ref_pix_dis :</span></dt><dd>5629.566753389074</dd><dt><span>climate_source :</span></dt><dd>_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp126_no_OGGM_bias_correction</dd><dt><span>yr_0 :</span></dt><dd>1850</dd><dt><span>yr_1 :</span></dt><dd>2100</dd><dt><span>author :</span></dt><dd>OGGM</dd><dt><span>author_info :</span></dt><dd>Open Global Glacier Model</dd></dl></div></li></ul></div></div></div></div>
</div>
<div class="alert alert-warning">
    <b>Task</b>: What information does the dataset contain, and what are the units of the variables? Create a plot for the temperature and precipitation and also add the historical data in the same plot (have a look at session 3). What do you observe?
</div><p>Your answer here:</p>
</section>
<section id="projection-runs">
<h2>Projection runs<a class="headerlink" href="#projection-runs" title="Link to this heading">#</a></h2>
<p>We now run OGGM under various future scenarios, starting from the end year of the historical spin-up run.
To tell the model where to start, we provide the argument <code class="docutils literal notranslate"><span class="pre">init_model_filesuffix='_spinup_historical'</span></code>. This ensures that the final state of the dynamic spin-up run is used as the starting point for our projections.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">ssp</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ssp126&#39;</span><span class="p">,</span> <span class="s1">&#39;ssp370&#39;</span><span class="p">,</span> <span class="s1">&#39;ssp585&#39;</span><span class="p">]:</span>
    <span class="c1"># this is the same id we used when processing the climate data in process_monthly_isimip_data</span>
    <span class="n">rid</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;_ISIMIP3b_</span><span class="si">{</span><span class="n">member</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">ssp</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="n">workflow</span><span class="o">.</span><span class="n">execute_entity_task</span><span class="p">(</span><span class="n">tasks</span><span class="o">.</span><span class="n">run_from_climate_data</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">,</span>
                                 <span class="n">climate_filename</span><span class="o">=</span><span class="s1">&#39;gcm_data&#39;</span><span class="p">,</span>  <span class="c1"># use gcm_data, not climate_historical</span>
                                 <span class="n">climate_input_filesuffix</span><span class="o">=</span><span class="n">rid</span><span class="p">,</span>  <span class="c1"># use the chosen scenario</span>
                                 <span class="n">init_model_filesuffix</span><span class="o">=</span><span class="s1">&#39;_spinup_historical&#39;</span><span class="p">,</span>  <span class="c1"># this is important! Start from 2020 glacier</span>
                                 <span class="n">output_filesuffix</span><span class="o">=</span><span class="n">rid</span><span class="p">,</span>  <span class="c1"># recognize the run for later</span>
                                <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:07: oggm.workflow: Execute entity tasks [run_from_climate_data] on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:07: oggm.core.flowline: (RGI60-11.00897) run_from_climate_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp126
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:07: oggm.core.flowline: (RGI60-11.00897) flowline_model_run_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp126
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:07: oggm.core.flowline: (RGI60-11.01450) run_from_climate_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp126
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:07: oggm.core.flowline: (RGI60-11.01450) flowline_model_run_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp126
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:07: oggm.workflow: Execute entity tasks [run_from_climate_data] on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:07: oggm.core.flowline: (RGI60-11.00897) run_from_climate_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:07: oggm.core.flowline: (RGI60-11.00897) flowline_model_run_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:07: oggm.core.flowline: (RGI60-11.01450) run_from_climate_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:07: oggm.core.flowline: (RGI60-11.01450) flowline_model_run_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:07: oggm.workflow: Execute entity tasks [run_from_climate_data] on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:07: oggm.core.flowline: (RGI60-11.00897) run_from_climate_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp585
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:08: oggm.core.flowline: (RGI60-11.00897) flowline_model_run_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp585
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:08: oggm.core.flowline: (RGI60-11.01450) run_from_climate_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp585
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:08: oggm.core.flowline: (RGI60-11.01450) flowline_model_run_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp585
</pre></div>
</div>
</div>
</div>
<p>That’s it, you have just completed your first projection runs through to the year 2100! Now, let’s take a look at the results by creating a plot in the next section.</p>
</section>
<section id="plot-projection-runs">
<h2>Plot projection runs<a class="headerlink" href="#plot-projection-runs" title="Link to this heading">#</a></h2>
<p>We have performed three projection runs using the same model but with three different scenarios. Let’s now compare how the glacier evolves under each scenario:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define one ax for each glacier</span>
<span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1"># define which color should be used for which scenario</span>
<span class="n">color_dict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ssp126&#39;</span><span class="p">:</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;ssp370&#39;</span><span class="p">:</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;ssp585&#39;</span><span class="p">:</span><span class="s1">&#39;red&#39;</span><span class="p">}</span>

<span class="c1"># loop through each scenario and plot the result</span>
<span class="k">for</span> <span class="n">ssp</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;ssp126&#39;</span><span class="p">,</span><span class="s1">&#39;ssp370&#39;</span><span class="p">,</span> <span class="s1">&#39;ssp585&#39;</span><span class="p">]:</span>
    <span class="c1"># the same file id we used in the previous steps</span>
    <span class="n">rid</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;_ISIMIP3b_</span><span class="si">{</span><span class="n">member</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">ssp</span><span class="si">}</span><span class="s1">&#39;</span>
    
    <span class="c1"># Compile the output into one file</span>
    <span class="n">ds</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">compile_run_output</span><span class="p">(</span><span class="n">gdirs</span><span class="p">,</span> <span class="n">input_filesuffix</span><span class="o">=</span><span class="n">rid</span><span class="p">)</span>
    
    <span class="c1"># Plot it, each glacier on a different ax</span>
    <span class="n">ds</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">rgi_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">ssp</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">color_dict</span><span class="p">[</span><span class="n">ssp</span><span class="p">]);</span>
    <span class="n">ds</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">rgi_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">ssp</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">color_dict</span><span class="p">[</span><span class="n">ssp</span><span class="p">]);</span>

<span class="c1"># add the legend</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:08: oggm.utils: Applying global task compile_run_output on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:08: oggm.utils: Applying compile_run_output on 2 gdirs.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:08: oggm.utils: Applying global task compile_run_output on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:08: oggm.utils: Applying compile_run_output on 2 gdirs.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:08: oggm.utils: Applying global task compile_run_output on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:08: oggm.utils: Applying compile_run_output on 2 gdirs.
</pre></div>
</div>
<img alt="../_images/eb341e3fc16ceabac087d81c67d6b6b5ce2401d8ee72b1cbc08067863edce7de.png" src="../_images/eb341e3fc16ceabac087d81c67d6b6b5ce2401d8ee72b1cbc08067863edce7de.png" />
</div>
</div>
<div class="alert alert-warning">
    <b>Task</b>: Analyse the plots: Are the results what you expected? What are the main differences between the two glaciers in terms of their response to the scenarios? (Hint: For analyzing it also could help to look at the climate input data)
</div><p>Your answer here:</p>
</section>
<section id="running-multiple-models-for-the-same-scenario">
<h2>Running multiple models for the same scenario<a class="headerlink" href="#running-multiple-models-for-the-same-scenario" title="Link to this heading">#</a></h2>
<p>So far, we’ve only used one GCM across three different scenarios. Now, we’ll take a single scenario and add more GCM members to see how we can analyze and compare the results.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># you can choose one of these 5 different GCMs:</span>
<span class="c1"># &#39;gfdl-esm4_r1i1p1f1&#39;, &#39;mpi-esm1-2-hr_r1i1p1f1&#39;, &#39;mri-esm2-0_r1i1p1f1&#39; (&quot;low sensitivity&quot; models, within typical ranges from AR6)</span>
<span class="c1"># &#39;ipsl-cm6a-lr_r1i1p1f1&#39;, &#39;ukesm1-0-ll_r1i1p1f2&#39; (&quot;hotter&quot; models, especially ukesm1-0-ll) </span>

<span class="c1"># we stick for to the ssp370 scenario for now</span>
<span class="n">ssp</span> <span class="o">=</span> <span class="s1">&#39;ssp370&#39;</span>

<span class="c1"># we select three GCM&#39;s as an example, and process the data for those</span>
<span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;gfdl-esm4_r1i1p1f1&#39;</span><span class="p">,</span> <span class="s1">&#39;mpi-esm1-2-hr_r1i1p1f1&#39;</span><span class="p">,</span> <span class="s1">&#39;mri-esm2-0_r1i1p1f1&#39;</span><span class="p">]:</span>
    <span class="c1"># bias correct them</span>
    <span class="n">workflow</span><span class="o">.</span><span class="n">execute_entity_task</span><span class="p">(</span><span class="n">gcm_climate</span><span class="o">.</span><span class="n">process_monthly_isimip_data</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">,</span> 
                                 <span class="n">ssp</span> <span class="o">=</span> <span class="n">ssp</span><span class="p">,</span>
                                 <span class="c1"># gcm member -&gt; you can choose another one</span>
                                 <span class="n">member</span><span class="o">=</span><span class="n">member</span><span class="p">,</span>
                                 <span class="c1"># recognize the climate file for later</span>
                                 <span class="n">output_filesuffix</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;_ISIMIP3b_</span><span class="si">{</span><span class="n">member</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">ssp</span><span class="si">}</span><span class="s1">&#39;</span>
                                 <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:08: oggm.workflow: Execute entity tasks [process_monthly_isimip_data] on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:08: oggm.shop.gcm_climate: (RGI60-11.00897) process_monthly_isimip_data_ISIMIP3b_gfdl-esm4_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:11: oggm.shop.gcm_climate: (RGI60-11.00897) process_gcm_data_ISIMIP3b_gfdl-esm4_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:11: oggm.shop.gcm_climate: (RGI60-11.01450) process_monthly_isimip_data_ISIMIP3b_gfdl-esm4_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:12: oggm.shop.gcm_climate: (RGI60-11.01450) process_gcm_data_ISIMIP3b_gfdl-esm4_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:12: oggm.workflow: Execute entity tasks [process_monthly_isimip_data] on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:12: oggm.shop.gcm_climate: (RGI60-11.00897) process_monthly_isimip_data_ISIMIP3b_mpi-esm1-2-hr_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:15: oggm.shop.gcm_climate: (RGI60-11.00897) process_gcm_data_ISIMIP3b_mpi-esm1-2-hr_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:15: oggm.shop.gcm_climate: (RGI60-11.01450) process_monthly_isimip_data_ISIMIP3b_mpi-esm1-2-hr_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:15: oggm.shop.gcm_climate: (RGI60-11.01450) process_gcm_data_ISIMIP3b_mpi-esm1-2-hr_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:15: oggm.workflow: Execute entity tasks [process_monthly_isimip_data] on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:15: oggm.shop.gcm_climate: (RGI60-11.00897) process_monthly_isimip_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:16: oggm.shop.gcm_climate: (RGI60-11.00897) process_gcm_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:16: oggm.shop.gcm_climate: (RGI60-11.01450) process_monthly_isimip_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:16: oggm.shop.gcm_climate: (RGI60-11.01450) process_gcm_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># our selected scenario</span>
<span class="n">ssp</span> <span class="o">=</span> <span class="s1">&#39;ssp370&#39;</span>

<span class="c1"># loop through our selected GCMs and run OGGM until 2100</span>
<span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;gfdl-esm4_r1i1p1f1&#39;</span><span class="p">,</span> <span class="s1">&#39;mpi-esm1-2-hr_r1i1p1f1&#39;</span><span class="p">,</span> <span class="s1">&#39;mri-esm2-0_r1i1p1f1&#39;</span><span class="p">]:</span>
    <span class="n">rid</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;_ISIMIP3b_</span><span class="si">{</span><span class="n">member</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">ssp</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="n">workflow</span><span class="o">.</span><span class="n">execute_entity_task</span><span class="p">(</span><span class="n">tasks</span><span class="o">.</span><span class="n">run_from_climate_data</span><span class="p">,</span> <span class="n">gdirs</span><span class="p">,</span>
                                 <span class="n">climate_filename</span><span class="o">=</span><span class="s1">&#39;gcm_data&#39;</span><span class="p">,</span>  <span class="c1"># use gcm_data, not climate_historical</span>
                                 <span class="n">climate_input_filesuffix</span><span class="o">=</span><span class="n">rid</span><span class="p">,</span>  <span class="c1"># use the chosen scenario</span>
                                 <span class="n">init_model_filesuffix</span><span class="o">=</span><span class="s1">&#39;_spinup_historical&#39;</span><span class="p">,</span>  <span class="c1"># this is important! Start from 2020 glacier</span>
                                 <span class="n">output_filesuffix</span><span class="o">=</span><span class="n">rid</span><span class="p">,</span>  <span class="c1"># recognize the run for later</span>
                                <span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:16: oggm.workflow: Execute entity tasks [run_from_climate_data] on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:16: oggm.core.flowline: (RGI60-11.00897) run_from_climate_data_ISIMIP3b_gfdl-esm4_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:16: oggm.core.flowline: (RGI60-11.00897) flowline_model_run_ISIMIP3b_gfdl-esm4_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.core.flowline: (RGI60-11.01450) run_from_climate_data_ISIMIP3b_gfdl-esm4_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.core.flowline: (RGI60-11.01450) flowline_model_run_ISIMIP3b_gfdl-esm4_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.workflow: Execute entity tasks [run_from_climate_data] on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.core.flowline: (RGI60-11.00897) run_from_climate_data_ISIMIP3b_mpi-esm1-2-hr_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.core.flowline: (RGI60-11.00897) flowline_model_run_ISIMIP3b_mpi-esm1-2-hr_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.core.flowline: (RGI60-11.01450) run_from_climate_data_ISIMIP3b_mpi-esm1-2-hr_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.core.flowline: (RGI60-11.01450) flowline_model_run_ISIMIP3b_mpi-esm1-2-hr_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.workflow: Execute entity tasks [run_from_climate_data] on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.core.flowline: (RGI60-11.00897) run_from_climate_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.core.flowline: (RGI60-11.00897) flowline_model_run_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.core.flowline: (RGI60-11.01450) run_from_climate_data_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.core.flowline: (RGI60-11.01450) flowline_model_run_ISIMIP3b_mri-esm2-0_r1i1p1f1_ssp370
</pre></div>
</div>
</div>
</div>
<p>After running the models, let’s examine the results in the same way as before:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="c1"># Pick some colors for the lines</span>
<span class="n">color_dict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;gfdl-esm4_r1i1p1f1&#39;</span><span class="p">:</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span>
            <span class="s1">&#39;mpi-esm1-2-hr_r1i1p1f1&#39;</span><span class="p">:</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span>
            <span class="s1">&#39;mri-esm2-0_r1i1p1f1&#39;</span><span class="p">:</span><span class="s1">&#39;red&#39;</span><span class="p">}</span>
<span class="n">ssp</span> <span class="o">=</span> <span class="s1">&#39;ssp370&#39;</span>
<span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;gfdl-esm4_r1i1p1f1&#39;</span><span class="p">,</span> <span class="s1">&#39;mpi-esm1-2-hr_r1i1p1f1&#39;</span><span class="p">,</span> <span class="s1">&#39;mri-esm2-0_r1i1p1f1&#39;</span><span class="p">]:</span>
    <span class="n">rid</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;_ISIMIP3b_</span><span class="si">{</span><span class="n">member</span><span class="si">}</span><span class="s1">_</span><span class="si">{</span><span class="n">ssp</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="c1"># Compile the output into one file</span>
    <span class="n">ds</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">compile_run_output</span><span class="p">(</span><span class="n">gdirs</span><span class="p">,</span> <span class="n">input_filesuffix</span><span class="o">=</span><span class="n">rid</span><span class="p">)</span>
    <span class="c1"># Plot it</span>
    <span class="n">ds</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">rgi_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">member</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">color_dict</span><span class="p">[</span><span class="n">member</span><span class="p">]);</span>
    <span class="n">ds</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">rgi_id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">member</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="n">color_dict</span><span class="p">[</span><span class="n">member</span><span class="p">]);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.utils: Applying global task compile_run_output on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.utils: Applying compile_run_output on 2 gdirs.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.utils: Applying global task compile_run_output on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.utils: Applying compile_run_output on 2 gdirs.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.utils: Applying global task compile_run_output on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:17: oggm.utils: Applying compile_run_output on 2 gdirs.
</pre></div>
</div>
<img alt="../_images/75b56dc88d6a7e5097479f79772cc2fa2615fbcabbe2689c986b6d7cd4844dfb.png" src="../_images/75b56dc88d6a7e5097479f79772cc2fa2615fbcabbe2689c986b6d7cd4844dfb.png" />
</div>
</div>
<div class="alert alert-warning">
    <b>Task</b>: What is the main difference compared to the similar plot above? When you imagine using more GCMs, do you think there might be a better way to analyze the results?
</div><p>Your answer here:</p>
<p>Earlier, we saw how to open the output for a single GCM and scenario using <code class="docutils literal notranslate"><span class="pre">utils.compile_run_output</span></code>. Now, we want to open the outputs for multiple GCMs under one scenario and combine them into a single dataset.</p>
<p>To do this, we:</p>
<ol class="arabic simple">
<li><p>Open each GCM–scenario combination individually.</p></li>
<li><p>Save each dataset to <code class="docutils literal notranslate"><span class="pre">ds_all</span></code>, adding the GCM and scenario as new coordinates.</p></li>
<li><p>Finally, we merge all datasets using these newly added coordinates.</p></li>
</ol>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># in this array all datasets going to be stored with additional coordinates GCM and SCENARIO</span>
<span class="n">ds_all</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># our selected scenario</span>
<span class="n">ssp</span> <span class="o">=</span> <span class="s1">&#39;ssp370&#39;</span>

<span class="c1"># loop through all GCMs, add the new coordinates and add the final ds to ds_all</span>
<span class="k">for</span> <span class="n">GCM</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;gfdl-esm4_r1i1p1f1&#39;</span><span class="p">,</span> <span class="s1">&#39;mpi-esm1-2-hr_r1i1p1f1&#39;</span><span class="p">,</span> <span class="s1">&#39;mri-esm2-0_r1i1p1f1&#39;</span><span class="p">]:</span>  
    <span class="c1"># put together the same filesuffix which was used during the projection runs</span>
    <span class="n">rid</span> <span class="o">=</span> <span class="s1">&#39;_ISIMIP3b_</span><span class="si">{}</span><span class="s1">_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">GCM</span><span class="p">,</span> <span class="n">ssp</span><span class="p">)</span>  

    <span class="c1"># open one model run</span>
    <span class="n">ds_tmp</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">compile_run_output</span><span class="p">(</span><span class="n">gdirs</span><span class="p">,</span> <span class="n">input_filesuffix</span><span class="o">=</span><span class="n">rid</span><span class="p">)</span>  

    <span class="c1"># add GCM as a coordinate</span>
    <span class="n">ds_tmp</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="s1">&#39;GCM&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">GCM</span>  
    <span class="n">ds_tmp</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="s1">&#39;GCM&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;used Global circulation Model&#39;</span>  <span class="c1"># add a description for GCM</span>
    <span class="n">ds_tmp</span> <span class="o">=</span> <span class="n">ds_tmp</span><span class="o">.</span><span class="n">expand_dims</span><span class="p">(</span><span class="s2">&quot;GCM&quot;</span><span class="p">)</span>  <span class="c1"># add GCM as a dimension to all Data variables</span>

    <span class="c1"># add scenario (here ssp) as a coordinate</span>
    <span class="n">ds_tmp</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="s1">&#39;SCENARIO&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ssp</span>  
    <span class="n">ds_tmp</span><span class="o">.</span><span class="n">coords</span><span class="p">[</span><span class="s1">&#39;SCENARIO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;used scenario (here SSPs)&#39;</span>
    <span class="n">ds_tmp</span> <span class="o">=</span> <span class="n">ds_tmp</span><span class="o">.</span><span class="n">expand_dims</span><span class="p">(</span><span class="s2">&quot;SCENARIO&quot;</span><span class="p">)</span>  <span class="c1"># add SSP as a dimension to all Data variables</span>

    <span class="c1"># add the dataset with extra coordinates to our final ds_all array</span>
    <span class="n">ds_all</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ds_tmp</span><span class="p">)</span>  

<span class="c1"># after adding the new coordinates, we can use them to merge all datasets into one</span>
<span class="n">ds_merged</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">combine_by_coords</span><span class="p">(</span><span class="n">ds_all</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>  <span class="c1"># define how the missing GCM, SCENARIO combinations should be filled</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:18: oggm.utils: Applying global task compile_run_output on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:18: oggm.utils: Applying compile_run_output on 2 gdirs.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:18: oggm.utils: Applying global task compile_run_output on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:18: oggm.utils: Applying compile_run_output on 2 gdirs.
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:18: oggm.utils: Applying global task compile_run_output on 2 glaciers
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2025-05-15 08:47:18: oggm.utils: Applying compile_run_output on 2 gdirs.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_merged</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewBox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewBox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 31kB
Dimensions:         (SCENARIO: 1, GCM: 3, time: 82, rgi_id: 2)
Coordinates:
  * time            (time) float64 656B 2.02e+03 2.021e+03 ... 2.1e+03 2.101e+03
  * rgi_id          (rgi_id) &lt;U14 112B &#x27;RGI60-11.00897&#x27; &#x27;RGI60-11.01450&#x27;
    hydro_year      (time) int64 656B 2020 2021 2022 2023 ... 2099 2100 2101
    hydro_month     (time) int64 656B 4 4 4 4 4 4 4 4 4 4 ... 4 4 4 4 4 4 4 4 4
    calendar_year   (time) int64 656B 2020 2021 2022 2023 ... 2099 2100 2101
    calendar_month  (time) int64 656B 1 1 1 1 1 1 1 1 1 1 ... 1 1 1 1 1 1 1 1 1
  * GCM             (GCM) &lt;U22 264B &#x27;gfdl-esm4_r1i1p1f1&#x27; ... &#x27;mri-esm2-0_r1i1...
  * SCENARIO        (SCENARIO) &lt;U6 24B &#x27;ssp370&#x27;
Data variables:
    volume          (SCENARIO, GCM, time, rgi_id) float64 4kB 3.976e+08 ... 3...
    volume_bsl      (SCENARIO, GCM, time, rgi_id) float64 4kB 0.0 0.0 ... 0.0
    volume_bwl      (SCENARIO, GCM, time, rgi_id) float64 4kB 0.0 0.0 ... 0.0
    area            (SCENARIO, GCM, time, rgi_id) float64 4kB 7.651e+06 ... 1...
    length          (SCENARIO, GCM, time, rgi_id) float64 4kB 5.6e+03 ... 1.6...
    calving         (SCENARIO, GCM, time, rgi_id) float64 4kB 0.0 0.0 ... 0.0
    calving_rate    (SCENARIO, GCM, time, rgi_id) float64 4kB 0.0 0.0 ... 0.0
    water_level     (SCENARIO, GCM, rgi_id) float64 48B 0.0 0.0 0.0 0.0 0.0 0.0
    glen_a          (SCENARIO, GCM, rgi_id) float64 48B 6.001e-24 ... 5.933e-24
    fs              (SCENARIO, GCM, rgi_id) float64 48B 0.0 0.0 0.0 0.0 0.0 0.0
Attributes:
    description:    OGGM model output
    oggm_version:   1.6.2
    calendar:       365-day no leap
    creation_date:  2025-05-15 06:47:18</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-6ceddf52-806e-4fa4-8789-bafe1d8772d0' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-6ceddf52-806e-4fa4-8789-bafe1d8772d0' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>SCENARIO</span>: 1</li><li><span class='xr-has-index'>GCM</span>: 3</li><li><span class='xr-has-index'>time</span>: 82</li><li><span class='xr-has-index'>rgi_id</span>: 2</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-cfb9b97e-cf9e-454f-b490-51e05c2a8a00' class='xr-section-summary-in' type='checkbox'  checked><label for='section-cfb9b97e-cf9e-454f-b490-51e05c2a8a00' class='xr-section-summary' >Coordinates: <span>(8)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>time</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>2.02e+03 2.021e+03 ... 2.101e+03</div><input id='attrs-6d04705e-ecd1-4e8c-b3a3-af03b81fc765' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6d04705e-ecd1-4e8c-b3a3-af03b81fc765' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-4768c699-3f76-4b05-b349-8ee160da0e4c' class='xr-var-data-in' type='checkbox'><label for='data-4768c699-3f76-4b05-b349-8ee160da0e4c' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Floating year</dd></dl></div><div class='xr-var-data'><pre>array([2020., 2021., 2022., 2023., 2024., 2025., 2026., 2027., 2028., 2029.,
       2030., 2031., 2032., 2033., 2034., 2035., 2036., 2037., 2038., 2039.,
       2040., 2041., 2042., 2043., 2044., 2045., 2046., 2047., 2048., 2049.,
       2050., 2051., 2052., 2053., 2054., 2055., 2056., 2057., 2058., 2059.,
       2060., 2061., 2062., 2063., 2064., 2065., 2066., 2067., 2068., 2069.,
       2070., 2071., 2072., 2073., 2074., 2075., 2076., 2077., 2078., 2079.,
       2080., 2081., 2082., 2083., 2084., 2085., 2086., 2087., 2088., 2089.,
       2090., 2091., 2092., 2093., 2094., 2095., 2096., 2097., 2098., 2099.,
       2100., 2101.])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>rgi_id</span></div><div class='xr-var-dims'>(rgi_id)</div><div class='xr-var-dtype'>&lt;U14</div><div class='xr-var-preview xr-preview'>&#x27;RGI60-11.00897&#x27; &#x27;RGI60-11.01450&#x27;</div><input id='attrs-52cbb792-ce31-4f80-9071-f8b506bbbd8b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-52cbb792-ce31-4f80-9071-f8b506bbbd8b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a99d7859-057e-447e-b31a-1ffd495c397d' class='xr-var-data-in' type='checkbox'><label for='data-a99d7859-057e-447e-b31a-1ffd495c397d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>RGI glacier identifier</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;RGI60-11.00897&#x27;, &#x27;RGI60-11.01450&#x27;], dtype=&#x27;&lt;U14&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>hydro_year</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>2020 2021 2022 ... 2099 2100 2101</div><input id='attrs-b2153ec2-45b1-4e18-8c53-bf78064cfb9e' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b2153ec2-45b1-4e18-8c53-bf78064cfb9e' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7caa1b69-07e6-47b3-a989-2732fd5a4a56' class='xr-var-data-in' type='checkbox'><label for='data-7caa1b69-07e6-47b3-a989-2732fd5a4a56' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Hydrological year</dd></dl></div><div class='xr-var-data'><pre>array([2020, 2021, 2022, 2023, 2024, 2025, 2026, 2027, 2028, 2029, 2030,
       2031, 2032, 2033, 2034, 2035, 2036, 2037, 2038, 2039, 2040, 2041,
       2042, 2043, 2044, 2045, 2046, 2047, 2048, 2049, 2050, 2051, 2052,
       2053, 2054, 2055, 2056, 2057, 2058, 2059, 2060, 2061, 2062, 2063,
       2064, 2065, 2066, 2067, 2068, 2069, 2070, 2071, 2072, 2073, 2074,
       2075, 2076, 2077, 2078, 2079, 2080, 2081, 2082, 2083, 2084, 2085,
       2086, 2087, 2088, 2089, 2090, 2091, 2092, 2093, 2094, 2095, 2096,
       2097, 2098, 2099, 2100, 2101])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>hydro_month</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>4 4 4 4 4 4 4 4 ... 4 4 4 4 4 4 4 4</div><input id='attrs-83e7bdb3-2ff6-4ace-831b-264a3e0f97c4' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-83e7bdb3-2ff6-4ace-831b-264a3e0f97c4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-24365c7a-6d50-422d-a186-c46a96f15a22' class='xr-var-data-in' type='checkbox'><label for='data-24365c7a-6d50-422d-a186-c46a96f15a22' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Hydrological month</dd></dl></div><div class='xr-var-data'><pre>array([4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
       4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
       4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,
       4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>calendar_year</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>2020 2021 2022 ... 2099 2100 2101</div><input id='attrs-95fc234d-d443-4f5f-baa7-9c3890be7058' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-95fc234d-d443-4f5f-baa7-9c3890be7058' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-5f26faec-7685-441e-9967-6ccf398f8132' class='xr-var-data-in' type='checkbox'><label for='data-5f26faec-7685-441e-9967-6ccf398f8132' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Calendar year</dd></dl></div><div class='xr-var-data'><pre>array([2020, 2021, 2022, 2023, 2024, 2025, 2026, 2027, 2028, 2029, 2030,
       2031, 2032, 2033, 2034, 2035, 2036, 2037, 2038, 2039, 2040, 2041,
       2042, 2043, 2044, 2045, 2046, 2047, 2048, 2049, 2050, 2051, 2052,
       2053, 2054, 2055, 2056, 2057, 2058, 2059, 2060, 2061, 2062, 2063,
       2064, 2065, 2066, 2067, 2068, 2069, 2070, 2071, 2072, 2073, 2074,
       2075, 2076, 2077, 2078, 2079, 2080, 2081, 2082, 2083, 2084, 2085,
       2086, 2087, 2088, 2089, 2090, 2091, 2092, 2093, 2094, 2095, 2096,
       2097, 2098, 2099, 2100, 2101])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>calendar_month</span></div><div class='xr-var-dims'>(time)</div><div class='xr-var-dtype'>int64</div><div class='xr-var-preview xr-preview'>1 1 1 1 1 1 1 1 ... 1 1 1 1 1 1 1 1</div><input id='attrs-df03cbb2-0d0c-46e2-9056-7504767343a1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-df03cbb2-0d0c-46e2-9056-7504767343a1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-a251a652-5f27-4a2d-9779-ae3973086f8a' class='xr-var-data-in' type='checkbox'><label for='data-a251a652-5f27-4a2d-9779-ae3973086f8a' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Calendar month</dd></dl></div><div class='xr-var-data'><pre>array([1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
       1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>GCM</span></div><div class='xr-var-dims'>(GCM)</div><div class='xr-var-dtype'>&lt;U22</div><div class='xr-var-preview xr-preview'>&#x27;gfdl-esm4_r1i1p1f1&#x27; ... &#x27;mri-es...</div><input id='attrs-769cd01b-6411-4ee4-8962-9bbbaae1e69b' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-769cd01b-6411-4ee4-8962-9bbbaae1e69b' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-cc64f1a1-efad-42a4-98ab-7cff951005d2' class='xr-var-data-in' type='checkbox'><label for='data-cc64f1a1-efad-42a4-98ab-7cff951005d2' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>used Global circulation Model</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;gfdl-esm4_r1i1p1f1&#x27;, &#x27;mpi-esm1-2-hr_r1i1p1f1&#x27;, &#x27;mri-esm2-0_r1i1p1f1&#x27;],
      dtype=&#x27;&lt;U22&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>SCENARIO</span></div><div class='xr-var-dims'>(SCENARIO)</div><div class='xr-var-dtype'>&lt;U6</div><div class='xr-var-preview xr-preview'>&#x27;ssp370&#x27;</div><input id='attrs-662098dc-a3aa-49c8-a414-9e6f6d9e434c' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-662098dc-a3aa-49c8-a414-9e6f6d9e434c' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b952eaf2-5e88-467e-9110-4749281d088d' class='xr-var-data-in' type='checkbox'><label for='data-b952eaf2-5e88-467e-9110-4749281d088d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>used scenario (here SSPs)</dd></dl></div><div class='xr-var-data'><pre>array([&#x27;ssp370&#x27;], dtype=&#x27;&lt;U6&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-ed7e1369-6b8e-4197-ae51-ba5f5aee4e0a' class='xr-section-summary-in' type='checkbox'  checked><label for='section-ed7e1369-6b8e-4197-ae51-ba5f5aee4e0a' class='xr-section-summary' >Data variables: <span>(10)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>volume</span></div><div class='xr-var-dims'>(SCENARIO, GCM, time, rgi_id)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>3.976e+08 9.617e+09 ... 3.613e+08</div><input id='attrs-2bc88c3b-0c59-4bc1-bcc3-7682c5d2dcea' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-2bc88c3b-0c59-4bc1-bcc3-7682c5d2dcea' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-34067ccd-d14d-4e19-8156-8661457ca3bd' class='xr-var-data-in' type='checkbox'><label for='data-34067ccd-d14d-4e19-8156-8661457ca3bd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Total glacier volume</dd><dt><span>unit :</span></dt><dd>m 3</dd></dl></div><div class='xr-var-data'><pre>array([[[[3.97633121e+08, 9.61665427e+09],
         [3.80692023e+08, 9.36394383e+09],
         [3.65102167e+08, 9.20130180e+09],
         [3.54519460e+08, 9.06558740e+09],
         [3.37040256e+08, 8.89728730e+09],
         [3.23472122e+08, 8.85621265e+09],
         [3.16903893e+08, 8.81286036e+09],
         [3.09741837e+08, 8.71783731e+09],
         [2.93053248e+08, 8.55656868e+09],
         [2.81197671e+08, 8.46376941e+09],
         [2.72462301e+08, 8.32439430e+09],
         [2.66507597e+08, 8.23975386e+09],
         [2.49048252e+08, 8.04351413e+09],
         [2.35788897e+08, 7.96383168e+09],
         [2.24603288e+08, 7.85382045e+09],
         [2.10730268e+08, 7.74323823e+09],
         [1.97962486e+08, 7.58688887e+09],
         [1.89503175e+08, 7.52006043e+09],
         [1.75678435e+08, 7.41543178e+09],
         [1.59119568e+08, 7.24706300e+09],
...
         [3.02701560e+06, 1.44689958e+09],
         [2.67813425e+06, 1.38017024e+09],
         [2.35373451e+06, 1.30645455e+09],
         [1.96012274e+06, 1.22305881e+09],
         [1.88801574e+06, 1.17852839e+09],
         [1.52211397e+06, 1.04577198e+09],
         [1.09536544e+06, 8.87514708e+08],
         [1.01129765e+06, 8.33797637e+08],
         [8.77740452e+05, 7.72516788e+08],
         [7.84166804e+05, 7.31152971e+08],
         [6.50822758e+05, 6.74815824e+08],
         [5.44152730e+05, 6.34832042e+08],
         [6.01277520e+05, 6.56692267e+08],
         [4.07826092e+05, 5.85168337e+08],
         [3.54576334e+05, 5.44330782e+08],
         [2.63385460e+05, 4.88157334e+08],
         [1.56574527e+05, 4.59255231e+08],
         [5.91208232e+04, 4.25760806e+08],
         [0.00000000e+00, 3.90915193e+08],
         [0.00000000e+00, 3.61314126e+08]]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>volume_bsl</span></div><div class='xr-var-dims'>(SCENARIO, GCM, time, rgi_id)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0</div><input id='attrs-6d663557-7d7f-42a0-9806-48aaf1f6a478' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-6d663557-7d7f-42a0-9806-48aaf1f6a478' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6c2f8736-4007-4d0c-8ce4-17d85874beb6' class='xr-var-data-in' type='checkbox'><label for='data-6c2f8736-4007-4d0c-8ce4-17d85874beb6' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Glacier volume below sea-level</dd><dt><span>unit :</span></dt><dd>m 3</dd></dl></div><div class='xr-var-data'><pre>array([[[[0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
...
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.]]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>volume_bwl</span></div><div class='xr-var-dims'>(SCENARIO, GCM, time, rgi_id)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0</div><input id='attrs-3627774c-906b-48ac-85ec-32f929f9daf5' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-3627774c-906b-48ac-85ec-32f929f9daf5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-b95065fb-ef1f-409b-932b-c71899395ca1' class='xr-var-data-in' type='checkbox'><label for='data-b95065fb-ef1f-409b-932b-c71899395ca1' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Glacier volume below water-level</dd><dt><span>unit :</span></dt><dd>m 3</dd></dl></div><div class='xr-var-data'><pre>array([[[[0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
...
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.]]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>area</span></div><div class='xr-var-dims'>(SCENARIO, GCM, time, rgi_id)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>7.651e+06 8.004e+07 ... 1.916e+07</div><input id='attrs-34d3023b-9d16-4d47-9938-0f43bbb5ab57' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-34d3023b-9d16-4d47-9938-0f43bbb5ab57' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8d47288a-0c39-48bf-b983-23a544f81856' class='xr-var-data-in' type='checkbox'><label for='data-8d47288a-0c39-48bf-b983-23a544f81856' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Total glacier area</dd><dt><span>unit :</span></dt><dd>m 2</dd></dl></div><div class='xr-var-data'><pre>array([[[[7.65072907e+06, 8.00375821e+07],
         [7.61537116e+06, 7.97271034e+07],
         [7.58147947e+06, 7.92919237e+07],
         [7.54038706e+06, 7.91293219e+07],
         [7.50268116e+06, 7.89417354e+07],
         [7.47197146e+06, 7.86414883e+07],
         [7.42287434e+06, 7.85069342e+07],
         [7.36536697e+06, 7.82179719e+07],
         [7.29143782e+06, 7.79049316e+07],
         [7.26326651e+06, 7.77584837e+07],
         [7.19907649e+06, 7.73860656e+07],
         [7.13477903e+06, 7.71208649e+07],
         [7.05430491e+06, 7.69445879e+07],
         [7.02325589e+06, 7.68012857e+07],
         [6.95332501e+06, 7.63361084e+07],
         [6.88275106e+06, 7.55580421e+07],
         [6.81106470e+06, 7.50644873e+07],
         [6.70985764e+06, 7.49590777e+07],
         [6.29331549e+06, 7.44593683e+07],
         [6.14743632e+06, 7.39152917e+07],
...
         [2.85089548e+05, 4.27888481e+07],
         [2.84192558e+05, 3.93734703e+07],
         [2.83368801e+05, 3.93632299e+07],
         [2.82351869e+05, 3.93528883e+07],
         [1.68188079e+05, 3.93473807e+07],
         [1.66867933e+05, 3.93301980e+07],
         [1.09616236e+05, 3.93108423e+07],
         [1.09283408e+05, 2.62479965e+07],
         [1.08770050e+05, 2.62411107e+07],
         [1.08394968e+05, 2.62374261e+07],
         [1.07880846e+05, 2.62316130e+07],
         [1.07460146e+05, 2.62280728e+07],
         [1.07648945e+05, 2.62329289e+07],
         [7.13549276e+04, 2.62254348e+07],
         [7.12055180e+04, 2.62216374e+07],
         [7.09489213e+04, 1.91775172e+07],
         [7.06471872e+04, 1.91741161e+07],
         [7.03707580e+04, 1.91704083e+07],
         [0.00000000e+00, 1.91662911e+07],
         [0.00000000e+00, 1.91629130e+07]]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>length</span></div><div class='xr-var-dims'>(SCENARIO, GCM, time, rgi_id)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>5.6e+03 1.836e+04 ... 0.0 1.644e+03</div><input id='attrs-b3f98ef4-6b00-4c96-8456-a460c874ef82' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-b3f98ef4-6b00-4c96-8456-a460c874ef82' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-ab35def7-dcc3-4290-b999-d94264c90d58' class='xr-var-data-in' type='checkbox'><label for='data-ab35def7-dcc3-4290-b999-d94264c90d58' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Glacier length</dd><dt><span>unit :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([[[[ 5600., 18358.],
         [ 5600., 18084.],
         [ 5600., 17810.],
         [ 5500., 17810.],
         [ 5500., 17810.],
         [ 5500., 17536.],
         [ 5400., 17536.],
         [ 5300., 17262.],
         [ 5200., 16988.],
         [ 5200., 16988.],
         [ 5100., 16440.],
         [ 5000., 16166.],
         [ 4900., 16166.],
         [ 4900., 16166.],
         [ 4800., 15618.],
         [ 4700., 15070.],
         [ 4600., 14796.],
         [ 4400., 14796.],
         [ 4000., 14522.],
         [ 3800., 14248.],
...
         [  400.,  3014.],
         [  400.,  2740.],
         [  400.,  2740.],
         [  400.,  2740.],
         [  300.,  2740.],
         [  300.,  2740.],
         [  200.,  2740.],
         [  200.,  1918.],
         [  200.,  1918.],
         [  200.,  1918.],
         [  200.,  1918.],
         [  200.,  1918.],
         [  200.,  1918.],
         [  100.,  1918.],
         [  100.,  1918.],
         [  100.,  1644.],
         [  100.,  1644.],
         [  100.,  1644.],
         [    0.,  1644.],
         [    0.,  1644.]]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>calving</span></div><div class='xr-var-dims'>(SCENARIO, GCM, time, rgi_id)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0</div><input id='attrs-f07dafc7-9cc6-428d-bcb0-4e2bfcd75ea4' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f07dafc7-9cc6-428d-bcb0-4e2bfcd75ea4' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-9f3c850f-8591-43bd-9234-f1033cdf267d' class='xr-var-data-in' type='checkbox'><label for='data-9f3c850f-8591-43bd-9234-f1033cdf267d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Total accumulated calving flux</dd><dt><span>unit :</span></dt><dd>m 3</dd></dl></div><div class='xr-var-data'><pre>array([[[[0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
...
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.]]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>calving_rate</span></div><div class='xr-var-dims'>(SCENARIO, GCM, time, rgi_id)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 ... 0.0 0.0 0.0 0.0</div><input id='attrs-f8dc3d33-1af2-4431-b99e-c851ab890469' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-f8dc3d33-1af2-4431-b99e-c851ab890469' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-fc650acd-9bac-4347-9fe0-48721fa85f03' class='xr-var-data-in' type='checkbox'><label for='data-fc650acd-9bac-4347-9fe0-48721fa85f03' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Calving rate</dd><dt><span>unit :</span></dt><dd>m yr-1</dd></dl></div><div class='xr-var-data'><pre>array([[[[0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
...
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.],
         [0., 0.]]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>water_level</span></div><div class='xr-var-dims'>(SCENARIO, GCM, rgi_id)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 0.0 0.0</div><input id='attrs-1748c0d4-5db4-4d9e-8804-6c998b9b32ad' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1748c0d4-5db4-4d9e-8804-6c998b9b32ad' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-286476e1-469f-4f4c-ab96-21416b280830' class='xr-var-data-in' type='checkbox'><label for='data-286476e1-469f-4f4c-ab96-21416b280830' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Calving water level</dd><dt><span>units :</span></dt><dd>m</dd></dl></div><div class='xr-var-data'><pre>array([[[0., 0.],
        [0., 0.],
        [0., 0.]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>glen_a</span></div><div class='xr-var-dims'>(SCENARIO, GCM, rgi_id)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>6.001e-24 5.933e-24 ... 5.933e-24</div><input id='attrs-c1a089f8-5a14-40b2-998b-6c704d089f70' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-c1a089f8-5a14-40b2-998b-6c704d089f70' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-1fbf17ce-d27c-47ad-9050-78bf6b117c07' class='xr-var-data-in' type='checkbox'><label for='data-1fbf17ce-d27c-47ad-9050-78bf6b117c07' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Simulation Glen A</dd><dt><span>units :</span></dt><dd></dd></dl></div><div class='xr-var-data'><pre>array([[[6.00130186e-24, 5.93271898e-24],
        [6.00130186e-24, 5.93271898e-24],
        [6.00130186e-24, 5.93271898e-24]]])</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span>fs</span></div><div class='xr-var-dims'>(SCENARIO, GCM, rgi_id)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>0.0 0.0 0.0 0.0 0.0 0.0</div><input id='attrs-d608dc78-2949-44c2-9d52-dd53d54b23ee' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-d608dc78-2949-44c2-9d52-dd53d54b23ee' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-e394af4e-19df-42f7-a874-98f4084c86e0' class='xr-var-data-in' type='checkbox'><label for='data-e394af4e-19df-42f7-a874-98f4084c86e0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>Simulation sliding parameter</dd><dt><span>units :</span></dt><dd></dd></dl></div><div class='xr-var-data'><pre>array([[[0., 0.],
        [0., 0.],
        [0., 0.]]])</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-e335fdf0-e713-4028-aa33-ebf183ff51f5' class='xr-section-summary-in' type='checkbox'  ><label for='section-e335fdf0-e713-4028-aa33-ebf183ff51f5' class='xr-section-summary' >Indexes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>time</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-59347a1f-0657-450e-8f11-a8f1963bc22c' class='xr-index-data-in' type='checkbox'/><label for='index-59347a1f-0657-450e-8f11-a8f1963bc22c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([2020.0, 2021.0, 2022.0, 2023.0, 2024.0, 2025.0, 2026.0, 2027.0, 2028.0,
       2029.0, 2030.0, 2031.0, 2032.0, 2033.0, 2034.0, 2035.0, 2036.0, 2037.0,
       2038.0, 2039.0, 2040.0, 2041.0, 2042.0, 2043.0, 2044.0, 2045.0, 2046.0,
       2047.0, 2048.0, 2049.0, 2050.0, 2051.0, 2052.0, 2053.0, 2054.0, 2055.0,
       2056.0, 2057.0, 2058.0, 2059.0, 2060.0, 2061.0, 2062.0, 2063.0, 2064.0,
       2065.0, 2066.0, 2067.0, 2068.0, 2069.0, 2070.0, 2071.0, 2072.0, 2073.0,
       2074.0, 2075.0, 2076.0, 2077.0, 2078.0, 2079.0, 2080.0, 2081.0, 2082.0,
       2083.0, 2084.0, 2085.0, 2086.0, 2087.0, 2088.0, 2089.0, 2090.0, 2091.0,
       2092.0, 2093.0, 2094.0, 2095.0, 2096.0, 2097.0, 2098.0, 2099.0, 2100.0,
       2101.0],
      dtype=&#x27;float64&#x27;, name=&#x27;time&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>rgi_id</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-76e0917e-af6d-4b9f-93f8-fd99a6a99051' class='xr-index-data-in' type='checkbox'/><label for='index-76e0917e-af6d-4b9f-93f8-fd99a6a99051' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;RGI60-11.00897&#x27;, &#x27;RGI60-11.01450&#x27;], dtype=&#x27;object&#x27;, name=&#x27;rgi_id&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>GCM</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-76178df5-6d79-4eee-90b1-499b36e8ff8c' class='xr-index-data-in' type='checkbox'/><label for='index-76178df5-6d79-4eee-90b1-499b36e8ff8c' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;gfdl-esm4_r1i1p1f1&#x27;, &#x27;mpi-esm1-2-hr_r1i1p1f1&#x27;, &#x27;mri-esm2-0_r1i1p1f1&#x27;], dtype=&#x27;object&#x27;, name=&#x27;GCM&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>SCENARIO</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-13e02acc-689b-48bf-9518-6d65657c84fe' class='xr-index-data-in' type='checkbox'/><label for='index-13e02acc-689b-48bf-9518-6d65657c84fe' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;ssp370&#x27;], dtype=&#x27;object&#x27;, name=&#x27;SCENARIO&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-358dbd0c-241f-4ac0-a373-3ee880f4064e' class='xr-section-summary-in' type='checkbox'  checked><label for='section-358dbd0c-241f-4ac0-a373-3ee880f4064e' class='xr-section-summary' >Attributes: <span>(4)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'><dt><span>description :</span></dt><dd>OGGM model output</dd><dt><span>oggm_version :</span></dt><dd>1.6.2</dd><dt><span>calendar :</span></dt><dd>365-day no leap</dd><dt><span>creation_date :</span></dt><dd>2025-05-15 06:47:18</dd></dl></div></li></ul></div></div></div></div>
</div>
<p>You will notice that our data variables now have four dimensions:</p>
<ul class="simple">
<li><p>SCENARIO</p></li>
<li><p>GCM</p></li>
<li><p>time</p></li>
<li><p>rgi_id</p></li>
</ul>
<p>This structure makes it very easy to analyze the results. For example, let’s plot the median across all GCMs for one scenario and one glacier:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ds_merged</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">rgi_id</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;GCM&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7094109a3510&gt;]
</pre></div>
</div>
<img alt="../_images/7d88bd99b23b5c04d978ac459f3550ceefcc762925ebf6135999a9c9251e47ba.png" src="../_images/7d88bd99b23b5c04d978ac459f3550ceefcc762925ebf6135999a9c9251e47ba.png" />
</div>
</div>
<p>However, the median alone only tells part of the story. To provide more insight, you can also plot the interquartile range, which shows the spread of the data. Alternatively, you could use other metrics such as the mean and standard deviation to illustrate both the central tendency and variability of the results.</p>
<p>Let’s create a plot that includes both options:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># define one axis per glacier</span>
<span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">ax1</span><span class="p">,</span> <span class="n">ax2</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>

<span class="c1"># function for plotting the mean and the standard deviation</span>
<span class="k">def</span><span class="w"> </span><span class="nf">plot_mean_and_std</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">rgi_id</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
    <span class="c1"># first calculate the values we want to plot</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="n">ds_merged</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">rgi_id</span><span class="o">=</span><span class="n">rgi_id</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;GCM&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">std</span> <span class="o">=</span> <span class="n">ds_merged</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">rgi_id</span><span class="o">=</span><span class="n">rgi_id</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;GCM&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">time</span> <span class="o">=</span> <span class="n">ds_merged</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">values</span>

    <span class="c1"># plot the mean</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">mean</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="s1">&#39;mean&#39;</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>

    <span class="c1"># plot the standard deviation</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">mean</span> <span class="o">-</span> <span class="n">std</span><span class="p">,</span> <span class="n">mean</span> <span class="o">+</span> <span class="n">std</span><span class="p">,</span>
                    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;standard deviation&#39;</span><span class="p">,</span>
                    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
                    <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,)</span>

<span class="c1"># funciton for plotting the median and the interquartile range</span>
<span class="k">def</span><span class="w"> </span><span class="nf">plot_median_and_interquarntile_range</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">rgi_id</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
    <span class="c1"># first calculate the values we want to plot</span>
    <span class="n">median</span> <span class="o">=</span> <span class="n">ds_merged</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">rgi_id</span><span class="o">=</span><span class="n">rgi_id</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">dim</span><span class="o">=</span><span class="s1">&#39;GCM&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">p17</span> <span class="o">=</span> <span class="n">ds_merged</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">rgi_id</span><span class="o">=</span><span class="n">rgi_id</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.17</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s1">&#39;GCM&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">p83</span> <span class="o">=</span> <span class="n">ds_merged</span><span class="o">.</span><span class="n">isel</span><span class="p">(</span><span class="n">rgi_id</span><span class="o">=</span><span class="n">rgi_id</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">quantile</span><span class="p">(</span><span class="mf">0.83</span><span class="p">,</span> <span class="n">dim</span><span class="o">=</span><span class="s1">&#39;GCM&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">time</span> <span class="o">=</span> <span class="n">ds_merged</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">values</span>

    <span class="c1"># plot the median</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">median</span><span class="p">,</span>
            <span class="n">label</span><span class="o">=</span><span class="s1">&#39;median&#39;</span><span class="p">,</span>
            <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>

    <span class="c1"># plot the interquartile range</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">time</span><span class="p">,</span> <span class="n">p17</span><span class="p">,</span> <span class="n">p83</span><span class="p">,</span>
                    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;interquartile range</span><span class="se">\n</span><span class="s1">(17th-83th percentile)&#39;</span><span class="p">,</span>
                    <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span>
                    <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,)</span>


<span class="c1"># add some nice labels to an axis</span>
<span class="k">def</span><span class="w"> </span><span class="nf">add_annotations_to_ax</span><span class="p">(</span><span class="n">ax</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Volume in m³&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Time&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;3 GCM runs for SSP370&#39;</span><span class="p">)</span>


<span class="n">plot_mean_and_std</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">,</span> <span class="n">rgi_id</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C0&#39;</span><span class="p">)</span>  <span class="c1"># with C0, C1 ... you can loop through the default colors</span>
<span class="n">plot_median_and_interquarntile_range</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">,</span> <span class="n">rgi_id</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">)</span>
<span class="n">add_annotations_to_ax</span><span class="p">(</span><span class="n">ax1</span><span class="p">)</span>

<span class="n">plot_mean_and_std</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">,</span> <span class="n">rgi_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C0&#39;</span><span class="p">)</span>  <span class="c1"># with C0, C1 ... you can loop through the default colors</span>
<span class="n">plot_median_and_interquarntile_range</span><span class="p">(</span><span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">,</span> <span class="n">rgi_id</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;C1&#39;</span><span class="p">)</span>
<span class="n">add_annotations_to_ax</span><span class="p">(</span><span class="n">ax2</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x70940f0d7b50&gt;
</pre></div>
</div>
<img alt="../_images/f8ee88f1db33565408f682371dea7a9f4f71baeb1b1958eeccf996a1635e3186.png" src="../_images/f8ee88f1db33565408f682371dea7a9f4f71baeb1b1958eeccf996a1635e3186.png" />
</div>
</div>
<div class="alert alert-warning">
    <b>Task</b>: Could you explain the differences you observe between the various metrics (e.g., median vs. mean, interquartile range vs. standard deviation)? Which metric do you think best fits our purpose, and why? (Hint: add the individual model runs as gray lines to the plot)
</div><p>Your answer here:</p>
<p>Great, so far, we have conducted multiple model runs for the same SSP scenario. However, when it comes to communicating our results, grouping model runs strictly by scenario might not be the most intuitive approach. These scenario names (e.g., SSPs or RCPs) can be hard to interpret, especially for non-expert audiences.</p>
<p>Additionally, the transition from RCP scenarios in CMIP5 to SSP scenarios in CMIP6 introduced inconsistencies, there is no clear rule for how to directly compare or combine them. To explore what’s available, here you can find a <a class="reference external" href="https://cluster.klima.uni-bremen.de/~oggm/cmip5-ng/gcm_table_2100.html">list of all available CMIP5 model runs</a> and a <a class="reference external" href="https://cluster.klima.uni-bremen.de/~oggm/cmip6/gcm_table_2100.html">list of all available CMIP6 model runs</a>.</p>
<div class="alert alert-warning">
    <b>Task</b>: Could you think of a better way to group our simulations, other than by scenario?
</div><p>Your answer here:</p>
</section>
<section id="categories-projections-by-temperature-levels">
<h2>Categories projections by temperature levels<a class="headerlink" href="#categories-projections-by-temperature-levels" title="Link to this heading">#</a></h2>
<p>One useful way to group the simulations is by the predicted global temperature increase at the end of the century, relative to pre-industrial levels. And that’s exactly what we’re going to do.</p>
<p>To support this, we have created a table that contains the global temperature change for each CMIP5 and CMIP6 model, calculated as the difference between the periods 2071-2100 and 1850-1900. You can <a class="reference external" href="https://cluster.klima.uni-bremen.de/~pschmitt/teaching/cryo_in_climate/cmip5_and_cmip6_warming_compared_to_preindustrial.csv">download the file here</a> and save it in the same directory as your notebook.</p>
<p>Let’s take a look at it:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># reading the csv file</span>
<span class="n">df_warming_levels</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;cmip5_and_cmip6_warming_compared_to_preindustrial.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># look at the projected temperature changes in a histogram</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">df_warming_levels</span><span class="p">[</span><span class="s1">&#39;global_temp_ch_2071-2100_preindustrial&#39;</span><span class="p">],</span>
         <span class="c1"># define the bins the data should be displayed in, here form 0.5 to 6.5 in 0.5 steps</span>
         <span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">6.6</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span>  <span class="c1"># 6.6 because the last value is not included in np.arange</span>
         <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span>
        <span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of realizations&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Temperature change in °C compared to preindustrial&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="s1">&#39;on&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/48b35ef9ce07677b8d460c9b3449c5f8d4cb26286a54c24214bb068bed1b1aa9.png" src="../_images/48b35ef9ce07677b8d460c9b3449c5f8d4cb26286a54c24214bb068bed1b1aa9.png" />
</div>
</div>
<div class="alert alert-warning">
    <b>Task</b>: In which temperature range do we have the most model realizations available?
</div><p>Your answer here:</p>
<p>Now we can use this data to group our simulations based on specific temperature levels. To do this, we will define a function which selects all simulations within a provided temperature range:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the function takes a target temperature and a range, e.g. 2.7+/-0.2°C</span>
<span class="k">def</span><span class="w"> </span><span class="nf">get_models_from_temp</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="n">temp_range</span><span class="p">):</span>
    <span class="n">pi_l</span> <span class="o">=</span> <span class="n">temp</span> <span class="o">-</span> <span class="n">temp_range</span>  <span class="c1"># our lower temperature limit</span>
    <span class="n">pi_u</span> <span class="o">=</span> <span class="n">temp</span> <span class="o">+</span> <span class="n">temp_range</span>  <span class="c1"># our higher temperature limit</span>

    <span class="c1"># select only those which are inside of our temperature limit</span>
    <span class="n">pd_cmip_sel</span> <span class="o">=</span> <span class="n">df_warming_levels</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
        <span class="c1"># select all which have a larger temperature as our lower limit AND</span>
        <span class="p">(</span><span class="n">df_warming_levels</span><span class="p">[</span><span class="s1">&#39;global_temp_ch_2071-2100_preindustrial&#39;</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">pi_l</span><span class="p">)</span> <span class="o">&amp;</span>
        <span class="c1"># those having a smaller temperature as our higher limit</span>
        <span class="p">(</span><span class="n">df_warming_levels</span><span class="p">[</span><span class="s1">&#39;global_temp_ch_2071-2100_preindustrial&#39;</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">pi_u</span><span class="p">)</span>
    <span class="p">]</span>
    <span class="k">return</span> <span class="n">pd_cmip_sel</span>
</pre></div>
</div>
</div>
</div>
<p>As an example, let’s select all models with a projected temperature increase of 2.7 ± 0.2 °C (i.e., between 2.5°C and 2.9°C):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">models_2_7_deg</span> <span class="o">=</span> <span class="n">get_models_from_temp</span><span class="p">(</span><span class="mf">2.7</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
<span class="n">models_2_7_deg</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cmip</th>
      <th>gcm</th>
      <th>rcp</th>
      <th>ssp</th>
      <th>global_temp_ch_2071-2100_preindustrial</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>CNRM-CM5_RCP45</th>
      <td>CMIP5</td>
      <td>CNRM-CM5</td>
      <td>rcp45</td>
      <td>NaN</td>
      <td>2.544987</td>
    </tr>
    <tr>
      <th>CSIRO-MK3-6-0_RCP45</th>
      <td>CMIP5</td>
      <td>CSIRO-Mk3-6-0</td>
      <td>rcp45</td>
      <td>NaN</td>
      <td>2.870632</td>
    </tr>
    <tr>
      <th>IPSL-CM5A-LR_RCP45</th>
      <td>CMIP5</td>
      <td>IPSL-CM5A-LR</td>
      <td>rcp45</td>
      <td>NaN</td>
      <td>2.783992</td>
    </tr>
    <tr>
      <th>CCSM4_RCP60</th>
      <td>CMIP5</td>
      <td>CCSM4</td>
      <td>rcp60</td>
      <td>NaN</td>
      <td>2.706795</td>
    </tr>
    <tr>
      <th>GFDL-CM3_RCP26</th>
      <td>CMIP5</td>
      <td>GFDL-CM3</td>
      <td>rcp26</td>
      <td>NaN</td>
      <td>2.626000</td>
    </tr>
    <tr>
      <th>ACCESS-CM2_SSP126</th>
      <td>CMIP6</td>
      <td>ACCESS-CM2</td>
      <td>NaN</td>
      <td>ssp126</td>
      <td>2.781735</td>
    </tr>
    <tr>
      <th>CANESM5_SSP126</th>
      <td>CMIP6</td>
      <td>CanESM5</td>
      <td>NaN</td>
      <td>ssp126</td>
      <td>2.646456</td>
    </tr>
    <tr>
      <th>CAMS-CSM1-0_SSP370</th>
      <td>CMIP6</td>
      <td>CAMS-CSM1-0</td>
      <td>NaN</td>
      <td>ssp370</td>
      <td>2.731656</td>
    </tr>
    <tr>
      <th>CESM2-WACCM_SSP534-OVER</th>
      <td>CMIP6</td>
      <td>CESM2-WACCM</td>
      <td>NaN</td>
      <td>ssp534-over</td>
      <td>2.853885</td>
    </tr>
    <tr>
      <th>IPSL-CM6A-LR_SSP534-OVER</th>
      <td>CMIP6</td>
      <td>IPSL-CM6A-LR</td>
      <td>NaN</td>
      <td>ssp534-over</td>
      <td>2.792142</td>
    </tr>
    <tr>
      <th>MRI-ESM2-0_SSP245</th>
      <td>CMIP6</td>
      <td>MRI-ESM2-0</td>
      <td>NaN</td>
      <td>ssp245</td>
      <td>2.844054</td>
    </tr>
    <tr>
      <th>BCC-CSM2-MR_SSP245</th>
      <td>CMIP6</td>
      <td>BCC-CSM2-MR</td>
      <td>NaN</td>
      <td>ssp245</td>
      <td>2.641109</td>
    </tr>
    <tr>
      <th>FGOALS-F3-L_SSP245</th>
      <td>CMIP6</td>
      <td>FGOALS-f3-L</td>
      <td>NaN</td>
      <td>ssp245</td>
      <td>2.568657</td>
    </tr>
    <tr>
      <th>MRI-ESM2-0_SSP434</th>
      <td>CMIP6</td>
      <td>MRI-ESM2-0</td>
      <td>NaN</td>
      <td>ssp434</td>
      <td>2.609334</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>As you can see, the result includes a mix of CMIP5 and CMIP6 models, along with a variety of different scenarios.
The column <code class="docutils literal notranslate"><span class="pre">gcm</span></code> refers to the climate model used, while <code class="docutils literal notranslate"><span class="pre">rcp</span></code> and <code class="docutils literal notranslate"><span class="pre">ssp</span></code> refer to the scenario for CMIP5 and CMIP6, respectively.</p>
<div class="alert alert-warning">
    <b>Task</b>: What should we check after selecting our model realizations?
</div><p>Your answer here:</p>
<p>We should check how close the mean and median temperature of our selected models is to the target temperature level:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">models_2_7_deg</span><span class="p">[</span><span class="s1">&#39;global_temp_ch_2071-2100_preindustrial&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.714388064170389
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">models_2_7_deg</span><span class="p">[</span><span class="s1">&#39;global_temp_ch_2071-2100_preindustrial&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2.719225061829237
</pre></div>
</div>
</div>
</div>
<p>Okay, that’s quite good. However, it is always important to check for cases where the selection doesn’t work as well, let’s look at an example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">get_models_from_temp</span><span class="p">(</span><span class="mf">1.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)[</span><span class="s1">&#39;global_temp_ch_2071-2100_preindustrial&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.5076582171585582
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">get_models_from_temp</span><span class="p">(</span><span class="mf">1.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)[</span><span class="s1">&#39;global_temp_ch_2071-2100_preindustrial&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.5342661974422094
</pre></div>
</div>
</div>
</div>
<p>In this case, you can see that the mean temperature of our selection is 0.1 °C warmer than the target. This highlights why it is important to always check the actual temperature of your selection when analyzing the results, even small differences can influence the interpretation.</p>
<p>Another important aspect when comparing different temperature levels is to consider the number of selected models. In general, the more models you include, the more robust your statistics become, whether you’re looking at the mean, standard deviation, median, or interquartile range.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">models_2_7_deg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>14
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">get_models_from_temp</span><span class="p">(</span><span class="mf">1.4</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7
</pre></div>
</div>
</div>
</div>
<p>As you saw above, for the 2.7 ± 0.2 °C range, we have twice as many model realizations available compared to the 1.4 ± 0.2 °C range.</p>
<p>That’s why it’s important to ensure that, when defining your target temperature levels, the mean temperature of your selection closely matches your target, and that the number of realizations is balanced across the temperature groups. This ensures fair and robust comparisons.</p>
<p>With your selected models, you now have a list of realizations you can use for further analysis. As mentioned at the beginning of this session, running all CMIP5 and CMIP6 realizations yourself would require downloading several gigabytes of data. Fortunately, OGGM provides standard projections for all of these, which you can use directly for your analysis.</p>
<p>In the next session, you will learn how to access and work with these projections, especially useful for your group projects.</p>
</section>
<section id="bonus-sandbox">
<h2>Bonus: Sandbox<a class="headerlink" href="#bonus-sandbox" title="Link to this heading">#</a></h2>
<p>If you are interested, you can conduct a similar sensitivity study as done in last session, but this time for future projections. For this select one gcm-scneario combination and contucte multiple runs with changing model parameters. Create some plots for analysing how the changes effect the projected volume.</p>
<p>If you’re interested, you can perform a similar sensitivity study as we did in the last session, but this time using future projections. To do this:</p>
<ul class="simple">
<li><p>Select one GCM-scenario combination.</p></li>
<li><p>Conduct multiple projection runs, each with different model parameter settings (e.g., melt factor, precipitation factor, temperature bias, Glen A).</p></li>
<li><p>Create plots to analyze how changes in these parameters affect the projected glacier volume.</p></li>
</ul>
<p>This is a great way to understand the impact of model assumptions on long-term projections.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sandbox experiments</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="recap">
<h2>Recap<a class="headerlink" href="#recap" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Future climate data needs to be bias-corrected to match the historical data used in the model.</p></li>
<li><p>OGGM provides a wide range of climate models and scenarios (e.g., CMIP5/RCPs and CMIP6/SSPs).</p></li>
<li><p>For clearer communication, it is often more effective to group results by warming levels (e.g., 1.5°C, 2°C) rather than by scenario names, which can be harder to interpret.</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./session_06"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="topic.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">StudiKickoff: Running into the future</p>
      </div>
    </a>
    <a class="right-next"
       href="../session_07/topic.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">StudiKickoff: Hydrological output</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#oggm-setup">OGGM setup</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pre-processed-directories">Pre-processed directories</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-spinup-historical-runs">The <code class="docutils literal notranslate"><span class="pre">_spinup_historical</span></code> runs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-and-process-gcm-data-from-isimip3b-bias-corrected-cmip6">Download and process GCM data from ISIMIP3b (bias-corrected CMIP6)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#projection-runs">Projection runs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plot-projection-runs">Plot projection runs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#running-multiple-models-for-the-same-scenario">Running multiple models for the same scenario</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#categories-projections-by-temperature-levels">Categories projections by temperature levels</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bonus-sandbox">Bonus: Sandbox</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#recap">Recap</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Patrick Schmitt
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
  Last updated on May 15, 2025.
  <br/>
</p>
  </div>
  
  <div class="footer-item">
    
<div class="extra_footer">
  <p>
<a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">
  <img align="right" class="margin" src="https://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by.svg" width="88px">
</a>
These lecture notes and exercises are licensed under a <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">Creative Commons Attribution 4.0 International (CC BY 4.0) license</a>.
<br>
&copy; Copyright 2025.
</p>

</div>
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>